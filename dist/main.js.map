{"version":3,"sources":["webpack://Client/webpack/bootstrap","webpack://Client/./src/client/js/daystodeparture.js","webpack://Client/./src/client/js/updateUI.js","webpack://Client/./src/client/js/updateImages.js","webpack://Client/./src/client/js/formHandler.js","webpack://Client/./src/client/js/loader.js","webpack://Client/./src/client/js/selectImage.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","daysToDepature","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","date1","date2","console","log","dt1","dt2","Math","floor","UTC","date_diff_indays","document","getElementById","updateUI","e","forecast","String","weather_card","eta","header_title","weather_component","weather_icon_component","arrivalDate","innerHTML","weather","data","description","weather_icon","icon","temp","country","city_name","eta_value","classList","remove","updateImages","hits","length","main_image","img_button_1","img_button_2","img_button_3","img_button_4","style","backgroundImage","largeImageURL","img_tags","user","tags","loader","selectImage","querySelector","add","arrayNo","id","split","pixabay","addEventListener","preventDefault","lat","getLatLon","lon","days","cleanLocation","join","JSON","stringify","async","api_url","response","fetch","json","window","getPixabay","weatherbit","getWeatherbit"],"mappings":"uBACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,iDC1ErD,SAASC,IAEL,IAAIC,EAAQ,IAAIC,KACZC,EAAKF,EAAMG,UAEXC,EAAKJ,EAAMK,WAAW,EACtBC,EAAON,EAAMO,cAcjB,OAbGL,EAAG,KAEFA,EAAG,IAAIA,GAGRE,EAAG,KAEFA,EAAG,IAAIA,GAtBf,SAA0BI,EAAMC,GAC5BC,QAAQC,IAAIH,EAAMC,GAClB,IAAIG,EAAM,IAAIX,KAAKO,GACfK,EAAM,IAAIZ,KAAKQ,GAEnB,OADAC,QAAQC,IAAIC,EAAIC,GACTC,KAAKC,OAAOd,KAAKe,IAAIH,EAAIN,cAAeM,EAAIR,WAAYQ,EAAIV,WAAaF,KAAKe,IAAIJ,EAAIL,cAAeK,EAAIP,WAAYO,EAAIT,YAAc,OAuBvIc,CAHPjB,EAAQM,EAAO,IAAMF,EAAK,IAAMF,EAEpBgB,SAASC,eAAe,aAAanC,OCzBrD,SAASoC,EAASC,GACd,IAAIC,EAAWC,OAAOxB,KAClByB,EAAeN,SAASC,eAAe,gBACvCM,EAAMP,SAASC,eAAe,OAC9BO,EAAeR,SAASC,eAAe,gBACvCQ,EAAoBT,SAASC,eAAe,WAC5CS,EAAyBV,SAASC,eAAe,gBACjDU,EAAcX,SAASC,eAAe,aAAanC,MAGvD,GAAIsC,EAAW,GAAKA,EAAU,GAC1BI,EAAaI,UAAY,GACzBN,EAAaM,UAAY,wCACzBL,EAAIK,UAAY,OACb,CACH,IAAIC,EAAUV,EAAEW,KAAKV,GAAUS,QAAQE,YACnCC,EAAeb,EAAEW,KAAKV,GAAUS,QAAQI,KACxCC,EAAOf,EAAEW,KAAKV,GAAUc,KAIxBC,EAAUhB,EAAEiB,UAChBZ,EAAaI,UAAY,cAAcD,QAAkBQ,QAEzDV,EAAkBG,UAAYC,EAE9BH,EAAuBE,UAAY,wDAAwDI,sCAEtEhB,SAASC,eAAe,QAC9BW,UAAeM,EAAH,IAG3B,IAAIG,EAAYxC,IAChB0B,EAAIK,UAAY,mBAAmBS,UAEnCf,EAAagB,UAAUC,OAAO,WCrCtC,SAASC,EAAarB,GAGlB,GAAqB,GAAjBA,EAAEsB,KAAKC,OAAa,CAExB,IAAIC,EAAa3B,SAASC,eAAe,cACrC2B,EAAe5B,SAASC,eAAe,gBACvC4B,EAAe7B,SAASC,eAAe,gBACvC6B,EAAe9B,SAASC,eAAe,gBACvC8B,EAAe/B,SAASC,eAAe,gBAE3C2B,EAAaN,UAAUC,OAAO,UAC9BM,EAAaP,UAAUC,OAAO,UAC9BO,EAAaR,UAAUC,OAAO,UAC9BQ,EAAaT,UAAUC,OAAO,UAE9BI,EAAWK,MAAMC,gBAAkB,uEAAuE9B,EAAEsB,KAAK,GAAGS,iBACpHN,EAAaI,MAAMC,gBAAkB,OAAO9B,EAAEsB,KAAK,GAAGS,iBACtDL,EAAaG,MAAMC,gBAAkB,OAAO9B,EAAEsB,KAAK,GAAGS,iBACtDJ,EAAaE,MAAMC,gBAAkB,OAAO9B,EAAEsB,KAAK,GAAGS,iBACtDH,EAAaC,MAAMC,gBAAkB,OAAO9B,EAAEsB,KAAK,GAAGS,iBAGtD,IAAIC,EAAWnC,SAASC,eAAe,YACzBD,SAASC,eAAe,WAC9BW,UAAY,YAAYT,EAAEsB,KAAK,GAAGW,KAC1CD,EAASvB,UAAYT,EAAEsB,KAAK,GAAGY,UAI3BrC,SAASC,eAAe,YAAYW,UAAY,qB,oQCzBxD,MAAM,EAAOZ,SAASC,eAAe,QCLrC,SAASqC,IAEL,OADAtC,SAASC,eAAe,UAAUqB,UAAUC,OAAO,WAC5C,ECFX,SAASgB,EAAYpC,GACAH,SAASC,eAAe,cAI9B+B,MAAMC,gBAAkB,oEAAoE9B,EAAE6B,MAAMC,gBAC/GjC,SAASwC,cAAc,gBAAgBlB,UAAUC,OAAO,eACxDpB,EAAEmB,UAAUmB,IAAI,eAKhB,IAAIC,EAAUvC,EAAEwC,GAAGC,MAAM,KAAK,GAAG,EACjC5C,SAASwC,cAAc,aAAa5B,UAAY,YAAYiC,QAAQpB,KAAKiB,GAASN,KAClFpC,SAASwC,cAAc,YAAY5B,UAAY,GAAGiC,QAAQpB,KAAKiB,GAASL,KFR5E,EAAKS,iBAAiB,SAAW3C,IAE7BA,EAAE4C,iBACF,IAAIC,EAAMC,YAAY,GAClBC,EAAMD,YAAY,GAClBE,EAAO9C,OAAOxB,IAAmB,GAIrC,IACIuE,EADWpD,SAASC,eAAe,oBACVnC,MAAM8E,MAAM,KAAKS,KAAK,KAAKT,MAAM,KAAKS,KAAK,IACxE7D,QAAQC,IAAI,iBAAkB6D,KAAKC,UAAUH,IAE7CI,iBACI,MAAMC,EAAU,iCAAiCL,EAC3CM,QAAiBC,MAAMF,GACvBG,QAAaF,EAASE,OAC5BpC,EAAaoC,GACbC,OAAOhB,QAAUe,EAErBE,GAEAN,iBACI,MAAMC,EAAU,oCAAoCT,KAAOE,KAAOC,IAC5DO,QAAiBC,MAAMF,GACvBG,QAAaF,EAASE,OAC5B1D,EAAS0D,GACT5D,SAASC,eAAe,UAAUqB,UAAUmB,IAAI,UAChD5D,IACAgF,OAAOE,WAAaH,EAExBI,K","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","function date_diff_indays(date1,date2) {\n    console.log(date1,date2)\n    var dt1 = new Date(date1);\n    var dt2 = new Date(date2);\n    console.log(dt1,dt2)\n    return Math.floor((Date.UTC(dt2.getFullYear(), dt2.getMonth(), dt2.getDate()) - Date.UTC(dt1.getFullYear(), dt1.getMonth(), dt1.getDate()) ) /(1000 * 60 * 60 * 24));\n}\n\nfunction daysToDepature() {\n\n    var today = new Date();\n    var dd = today.getDate();\n\n    var mm = today.getMonth()+1; \n    var yyyy = today.getFullYear();\n    if(dd<10) \n    {\n        dd='0'+dd;\n    } \n\n    if(mm<10) \n    {\n        mm='0'+mm;\n    } \n\n    today = yyyy + '-' + mm + '-' + dd;\n\n    var date2 = document.getElementById('inputDate').value; \n    return date_diff_indays(today,date2)\n}\n\n\nexport { daysToDepature, date_diff_indays };\n","import {daysToDepature} from './daystodeparture'\n\nfunction updateUI(e) { \n    let forecast = String(daysToDepature());\n    let weather_card = document.getElementById('weather_card');\n    let eta = document.getElementById('ETA');\n    let header_title = document.getElementById('header_title')\n    let weather_component = document.getElementById('weather');\n    let weather_icon_component = document.getElementById('weather_icon');\n    let arrivalDate = document.getElementById('inputDate').value;\n\n\n    if (forecast < 1 || forecast >16 ){\n        header_title.innerHTML = \"\";\n        weather_card.innerHTML = \"No weather data for the selected date\";\n        eta.innerHTML = \"\";\n    } else {\n        let weather = e.data[forecast].weather.description;\n        let weather_icon = e.data[forecast].weather.icon;\n        let temp = e.data[forecast].temp;\n\n        // console.log('this is the new e', e);\n\n        let country = e.city_name;\n        header_title.innerHTML = `Weather on ${arrivalDate} in ${country} is:`;\n\n        weather_component.innerHTML = weather;\n\n        weather_icon_component.innerHTML = `<img src=\"https://www.weatherbit.io/static/img/icons/${weather_icon}.png\" height='50px', width='50px'>` ;\n\n        let temp_component = document.getElementById('temp');\n        temp_component.innerHTML = `${temp}℃`;\n\n        // console.log('loolz',daysToDepature)\n        let eta_value = daysToDepature();\n        eta.innerHTML = `Your trip is in ${eta_value} day/s`;\n\n        weather_card.classList.remove(\"d-none\");\n\n    // let card_loader = document.getElementById('card_loader');\n    // card_loader.classList.add(\"d-none\")\n\n    // console.log(\"weather\", weather);\n    // console.log(\"weather_icon\", weather_icon);\n    // console.log(\"temp\", temp);\n     }\n}\n\nexport {updateUI}\n","function updateImages(e) {\n    // console.log('this is e', e.hits);\n\n    if (e.hits.length != 0) {\n    // console.log('this is e', e.hits[0].largeImageURL);\n    let main_image = document.getElementById('main_image');\n    let img_button_1 = document.getElementById('img_button_1');\n    let img_button_2 = document.getElementById('img_button_2');\n    let img_button_3 = document.getElementById('img_button_3');\n    let img_button_4 = document.getElementById('img_button_4');\n   \n    img_button_1.classList.remove(\"d-none\")\n    img_button_2.classList.remove(\"d-none\")\n    img_button_3.classList.remove(\"d-none\")\n    img_button_4.classList.remove(\"d-none\")\n\n    main_image.style.backgroundImage = `linear-gradient(0deg, rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0.55)),url(${e.hits[0].largeImageURL})`;\n    img_button_1.style.backgroundImage = `url(${e.hits[0].largeImageURL})`;\n    img_button_2.style.backgroundImage = `url(${e.hits[1].largeImageURL})`;\n    img_button_3.style.backgroundImage = `url(${e.hits[2].largeImageURL})`;\n    img_button_4.style.backgroundImage = `url(${e.hits[3].largeImageURL})`;\n\n\n    let img_tags = document.getElementById('img_tags');\n    let img_src = document.getElementById('img_src');\n    img_src.innerHTML = `Photo by ${e.hits[0].user}`;\n    img_tags.innerHTML = e.hits[0].tags\n\n    }\n    else {\n        document.getElementById('img_tags').innerHTML = \"No image available\"\n    }\n}\n\nexport {updateImages}\n","import {updateUI} from './updateUI'\nimport {daysToDepature} from './daystodeparture'\nimport {updateImages} from './updateImages'\n\n\nconst form = document.getElementById('form')\nform.addEventListener('submit', (e) => {\n    const baseURL = `http://localhost:8081`\n    e.preventDefault();\n    let lat = getLatLon()[0];\n    let lon = getLatLon()[1]\n    let days = String(daysToDepature() + 1);\n    // console.log('days',days)\n    // console.log(lat, lon)\n\n    var location = document.getElementById('inputDestination');\n    var cleanLocation = location.value.split(' ').join('+').split(',').join('');\n    console.log('look here, ben', JSON.stringify(cleanLocation));\n\n    async function getPixabay() {\n        const api_url = `http://localhost:8081/pixabay/${cleanLocation}`\n        const response = await fetch(api_url);\n        const json = await response.json();\n        updateImages(json);\n        window.pixabay = json;\n    }\n    getPixabay()\n\n    async function getWeatherbit() {\n        const api_url = `http://localhost:8081/weatherbit/${lat},${lon},${days}`\n        const response = await fetch(api_url);\n        const json = await response.json();\n        updateUI(json)\n        document.getElementById('loader').classList.add(\"d-none\");\n        daysToDepature()\n        window.weatherbit = json;\n    }\n    getWeatherbit()\n\n})\n\nexport { form }\n","function loader(){ \n    document.getElementById('loader').classList.remove(\"d-none\");\n    return true\n}\n\nexport {loader}\n","function selectImage(e) {\n    let main_image = document.getElementById('main_image');\n\n    // console.log('asdfasdfasdf',e)\n    // console.log('e.split(', e.id.split('_')[2])\n    main_image.style.backgroundImage = `linear-gradient(0deg, rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0.55)), ${e.style.backgroundImage}`;  \n    document.querySelector(\".activeImage\").classList.remove(\"activeImage\")\n    e.classList.add(\"activeImage\")\n\n    // console.log('onclick',e);\n    // console.log('this is pixabay', pixabay)\n\n    let arrayNo = e.id.split('_')[2]-1;\n    document.querySelector(\"#img_tags\").innerHTML = `Photo by ${pixabay.hits[arrayNo].user}`; \n    document.querySelector(\"#img_src\").innerHTML = `${pixabay.hits[arrayNo].tags}`; \n\n\n\n}\n\nexport {selectImage}\n"],"sourceRoot":""}